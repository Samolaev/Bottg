# Функция загрузки видео для Telegram-бота

## Обзор

Добавлена новая функция для загрузки коротких видео с популярных платформ:
- YouTube
- Instagram
- TikTok

## Возможности

- Автоматическое определение платформы по ссылке
- Поддержка нескольких API для загрузки видео
- Приоритет использования API в следующем порядке:
  1. Cobalt
  2. youtube-dl
  3. ssstik.io (для TikTok)
  4. snaptik.app (для TikTok)
- Автоматический выбор метода в зависимости от доступности
- Информирование пользователя о статусе выполнения
- Проверка размера файла перед отправкой в Telegram (ограничение 50MB)
- Обработка ошибок и предоставление альтернативных способов получения видео

## Команды

### `/download_video <ссылка>`
Ручная загрузка видео по указанной ссылке

Пример: `/download_video https://www.youtube.com/watch?v=...`

### Автоматическая обработка
Бот также автоматически обнаруживает и обрабатывает ссылки на видео в обычных сообщениях

## Технические детали

### Архитектура

Функционал реализован с использованием следующих компонентов:

- `src/utils/videoDownloader.ts` - основной модуль с логикой загрузки
- `src/commands/downloadVideo.ts` - команда бота
- Интеграция с API: Cobalt, youtube-dl, ssstik.io, snaptik.app

### Обработка ошибок

- Проверка формата ссылки
- Проверка поддерживаемых платформ
- Обработка сетевых ошибок
- Проверка размера файла перед отправкой
- Альтернативные способы получения видео при сбоях

## Использование

Пользователь может:
1. Отправить команду `/download_video` с ссылкой
2. Просто отправить ссылку на видео в чат
3. Дождаться процесса загрузки и получения результата

Бот будет:
1. Анализировать ссылку
2. Определять платформу
3. Выбирать подходящий метод загрузки
4. Загружать видео
5. Отправлять пользователю результат